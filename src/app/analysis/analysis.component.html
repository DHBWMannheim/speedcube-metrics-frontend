<nb-card>
  <nb-card-header
    style="display: flex; justify-content: space-between; align-items: center"
  >
    <button
      nbButton
      outline
      status="info"
      size="small"
      [routerLink]="'/main/competitionoverview'"
    >
      <nb-icon icon="arrow-back-outline"></nb-icon>
    </button>
    <div style="text-align: center">
      <div>Auswertung</div>
      <div>{{ date }}</div>
    </div>
    <button nbButton outline status="info" size="small" (click)="getData()">
      <nb-icon icon="sync-outline"></nb-icon>
    </button>
  </nb-card-header>
  <nb-card-body>
    <div [nbSpinner]="loading" nbSpinnerStatus="info" style="display: block">
      <canvas
        baseChart
        width="400"
        height="400"
        [datasets]="lineChartData"
        [labels]="lineChartLabels"
        [options]="lineChartOptions"
        [colors]="lineChartColors"
        [legend]="lineChartLegend"
        [chartType]="lineChartType"
        [plugins]="lineChartPlugins"
      >
      </canvas>
    </div>
    <div *ngIf="solves" style="margin: 25px 0">
      <div *ngFor="let solve of solves">
        <div>
          {{ solve.round }}. Runde: <b>{{ solve.timeElapsed }}</b>
        </div>
        <div style="font-size: smaller">{{ solve.scramble }}</div>
        <div style="height: 1px; background-color: white; margin: 8px 0"></div>
      </div>
    </div>
    <div class="analytics-container">
      <div style="font-weight: 600; margin: 5px 0">Average 3</div>
      <div style="height: 1px; margin: 0 40px; background-color: #0095ff"></div>
      <h4 style="margin: 5px 0; color: #0095ff">{{ averageThree }}</h4>
    </div>
    <div class="analytics-container">
      <div style="font-weight: 600; margin: 5px 0">Average 5</div>
      <div style="height: 1px; margin: 0 40px; background-color: #0095ff"></div>
      <h4 style="margin: 5px 0; color: #0095ff">{{ averageFive }}</h4>
    </div>
    <div class="analytics-container">
      <div style="font-weight: 600; margin: 5px 0">Best</div>
      <div style="height: 1px; margin: 0 40px; background-color: #0095ff"></div>
      <h4 style="margin: 5px 0; color: #0095ff">{{ best }}</h4>
    </div>
    <div class="analytics-container">
      <div style="font-weight: 600; margin: 5px 0">Worst</div>
      <div style="height: 1px; margin: 0 40px; background-color: #0095ff"></div>
      <h4 style="margin: 5px 0; color: #0095ff">{{ worst }}</h4>
    </div>
  </nb-card-body>
  <nb-card-footer style="display: flex; justify-content: center">
    <button
      nbButton
      outline
      size="small"
      status="info"
      [routerLink]="'/main/competition'"
    >
      Neuer Wettkampf
    </button>
  </nb-card-footer>
</nb-card>
